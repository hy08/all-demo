# Webpack 进阶篇

## 自动清理构建目录

每次构建会自动清除构建目录，省得手动清理。

```js
//webpack.prod.js
const { CleanWebpackPlugin } = require('clean-webpack-plugin'); //安装依赖version: ^4.0.0
module.exports = {
  plugins: [new CleanWebpackPlugin()],
};
```

## PostCSS 插件 autoprefixer 自动补齐 CSS3 前缀

为了兼容不同的渲染内核，需要使用 css 属性的自动补齐前缀功能。
PostCSS 后置处理，即 css 样式已经生成之后进行样式补齐。
原理：根据 can-i-use 规则生成

```js
//webpack.prod.js
module.exports = {
  module: {
    rules: [
      {
        test: /\.less$/,
        use: [
          MiniCssExtractPlugin.loader,
          'css-loader',
          'less-loader',
          {
            loader: 'postcss-loader', //安装依赖
            options: {
              postcssOptions: {
                plugins: [
                  //安装依赖
                  require('autoprefixer')({
                    //兼容最新的两个版本，>1%使用的浏览器，兼容>=IOS 7
                    overrideBrowserslist: ['last 2 version', '>1%', 'IOS 7'],
                  }),
                ],
              },
            },
          },
        ],
      },
    ],
  },
};
```

## 移动端 CSS px 自动转换 rem

```js
//webpack.prod.js
module.exports = {
  module: {
    rules: [
      {
        test: /\.less$/,
        use: [
          MiniCssExtractPlugin.loader,
          'css-loader',
          'less-loader',
          {
            loader: 'px2rem-loader', //安装依赖，还需要npm i lib-flexible -S
            options: {
              remUnit: 75, //1rem=75px
              remPrecision: 8, //保留rem小数位数
            },
          },
        ],
      },
    ],
  },
};
```

## 静态资源内联

```js

```

## 多页面应用打包通用方案

```js

```

## 使用 sourcemap

```js

```

## 提取页面公共资源

```js

```

## Tree Shaking 的使用和原理分析

```js

```

## Scope Hosting 的使用和原理分析

```js

```

## 代码分割和动态 import

```js

```

## 在 webpack 中使用 ESLint

```js

```

## webpack 打包组件和基础库

```js

```

## webpack 实现 SSR 打包

```js

```

## 优化构建时命令行的显示日志

```js

```

## 构建异常和中断处理

```js

```
